data:text/html,<style>body,html{height:100%;margin:0}body{background:black;display:flex;align-items:center;justify-content:center}canvas{background:white}</style><canvas height=800 id=game width=800></canvas><script>var canvas=document.getElementById("game");canvas.height=16*Math.floor((window.innerHeight-100)/16),canvas.width=16*Math.floor((window.innerWidth-100)/16);var context=canvas.getContext("2d"),grid=16,count=0,snake={x:160,y:160,dx:grid,dy:0,cells:[],maxCells:4},apple={x:320,y:320};function getRandomInt(e,n){return Math.floor(Math.random()*(n-e))+e}function loop(){requestAnimationFrame(loop),++count<8||(count=0,context.clearRect(0,0,canvas.width,canvas.height),snake.x+=snake.dx,snake.y+=snake.dy,snake.x<0?snake.x=canvas.width-grid:snake.x%3E=canvas.width&&(snake.x=0),snake.y%3C0?snake.y=canvas.height-grid:snake.y%3E=canvas.height&&(snake.y=0),snake.cells.unshift({x:snake.x,y:snake.y}),snake.cells.length%3Esnake.maxCells&&snake.cells.pop(),context.fillStyle=%22red%22,context.fillRect(apple.x,apple.y,grid,grid),context.fillStyle=%22black%22,snake.cells.forEach(function(e,n){context.fillRect(e.x,e.y,grid,grid),e.x===apple.x&&e.y===apple.y&&(snake.maxCells++,apple.x=getRandomInt(0,canvas.width/16)*grid,apple.y=getRandomInt(0,canvas.height/16)*grid);for(var%20a=n+1;a%3Csnake.cells.length;a++)e.x===snake.cells[a].x&&e.y===snake.cells[a].y&&(snake.x=160,snake.y=160,snake.cells=[],snake.maxCells=4,snake.dx=grid,snake.dy=0,apple.x=getRandomInt(0,25)*grid,apple.y=getRandomInt(0,25)*grid)}))}document.addEventListener(%22keydown%22,function(e){37===e.which&&0===snake.dx?(snake.dx=-grid,snake.dy=0):38===e.which&&0===snake.dy?(snake.dy=-grid,snake.dx=0):39===e.which&&0===snake.dx?(snake.dx=grid,snake.dy=0):40===e.which&&0===snake.dy&&(snake.dy=grid,snake.dx=0)}),requestAnimationFrame(loop)%3C/script%3E