data:text/html,<style>body,html{background:black;display:flex;align-items:center;justify-content:center}p{position:absolute;opacity:.3;user-select:none;font-family:Verdana}p:nth-child(2){left:200}p:nth-child(3){right:200}canvas{background:white}</style><canvas width=800 height=800 id=g></canvas><p>Rotate Clockwise<p>Rotate Counter-Clockwise</p><script>(()=>{let e=document.getElementById("g");e.height=16*Math.floor((window.innerHeight-100)/16),e.width=16*Math.floor((window.innerWidth-100)/16);let l=e.getContext("2d"),t=16,i=0,d={x:160,y:160,dx:t,dy:0,cells:[],maxCells:4},n={x:320,y:320};function x(e,l){return Math.floor(Math.random()*(l-e))+e}document.addEventListener("click",(function(l){let i=l.clientX-e.width/2;i/=Math.abs(i),0===d.dx?(d.dx=i*t*(d.dy/t)*-1,d.dy=0):0===d.dy&&(d.dy=i*t*(d.dx/t),d.dx=0)})),requestAnimationFrame((function y(){requestAnimationFrame(y),++i<8||(i=0,l.clearRect(0,0,e.width,e.height),d.x+=d.dx,d.y+=d.dy,d.x<0?d.x=e.width-t:d.x>=e.width&&(d.x=0),d.y<0?d.y=e.height-t:d.y>=e.height&&(d.y=0),d.cells.unshift({x:d.x,y:d.y}),d.cells.length>d.maxCells&&d.cells.pop(),l.fillStyle="red",l.fillRect(n.x,n.y,t,t),l.fillStyle="black",d.cells.forEach((function(i,y){l.fillRect(i.x,i.y,t,t),i.x===n.x&&i.y===n.y&&(d.maxCells++,n.x=x(0,e.width/16)*t,n.y=x(0,e.height/16)*t);for(let e=y+1;e<d.cells.length;e++)i.x===d.cells[e].x&&i.y===d.cells[e].y&&(d.x=160,d.y=160,d.cells=[],d.maxCells=4,d.dx=t,d.dy=0,n.x=x(0,25)*t,n.y=x(0,25)*t)})))}))})()</script>